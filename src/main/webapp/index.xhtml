<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ng="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ac="http://beyondjava.net/angularFacesCore">
	<head>
		<title>AngularFaces 2.0 + BootsFaces 0.6.0 Tetris demo</title>
		<h:outputStylesheet library="tetris" name="angulartetris.css" target="head"></h:outputStylesheet>
		<h:outputScript library="tetris" name="tetromino.js" target="head"></h:outputScript>
		<h:outputScript library="tetris" name="gameController.js" target="head"></h:outputScript>
		<style>
		</style>
	</head>
	<body style="width:1000px" ng-controller="AngularTetrisController" ng-app="AngularTetris" addLabels="false">
		<container>
			<h3>AngularTetris</h3>
			<form>
				<tabView>
					<tab title="AngularTetris!">
							<ngsync value="{{grid.rows}}" direction="serverToClient" />
							<container>
								<row>
									<column span="#{2+(settingsBean.numberOfColumns*2/7)}">
										<div class="divTable" id="playground">
											<div class="divRow" ng-repeat="r in grid.rows ">
												<div class="divCell" ng-repeat="cell in r.cells" id="cell"
													style="background-color: {{brickColor(cell.color)}}"></div>
											</div>
										</div>
									</column>
									<column span="2">
										<row>
											<column span="12">
												<inputText type="number" disabled="true" label="score"
													value="{{scoreBean.score}}" />
											</column>
										</row>
										<row>
											<column span="12">
												<b:button value="start game" style="margin-top:12px;"
													ng-click="game.initGame(); game.startGame()" ng-hide="game.gameActive">
												</b:button>
											</column>
										</row>
									</column>
								</row>
							</container>
					</tab>
					<tab title="Settings">
						<b:panelGrid colSpans="3,9">
							<selectBooleanCheckbox value="{{settingsBean.preview}}" caption="preview (not implemented yet)" />
							<selectBooleanCheckbox value="{{settingsBean.ignoreGravity}}" caption="gravity"/>
							<inputText value="{{settingsBean.numberOfColumns}}" label="columns (width)"/>
							<inputText value="{{settingsBean.numberOfRows}}" label="rows (height)"/>
						</b:panelGrid>
						<b:commandButton value="apply changes" ng-show="showApplyButton" />
						<h:messages showSummary="true" showDetail="true" globalOnly="true"  />
					
					</tab>
					<tab title="High scores">This is the high score tab.</tab>
				</tabView>
			</form>
		</container>
	</body>
</f:view>
